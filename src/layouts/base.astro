---
import 'styles:global.scss'

const { title } = Astro.props
---
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <title>{ title ? `${title} \u2014 radenpioneer.blog` : 'radenpioneer.blog' }</title>
</head>
<body>
    <main class="main__section">
        <slot />
    </main>
    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
            if (!user) {
                window.netlifyIdentity.on("login", () => {
                document.location.href = "/admin/";
                });
            }
            });
        }
    </script>
</body>
</html>

<style global lang="scss">
    @use '../styles/global.scss';

    .main__section {
        @apply flex-auto;
    }
</style>